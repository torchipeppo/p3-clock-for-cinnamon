{
    "layout": {
        "type": "layout",
        "pages": ["global-page", "top-page", "middle-page", "bottom-page", "data-page"],

        "global-page": {
            "type": "page",
            "title": "Global",
            "sections": ["global-color-section", "global-scale-section", "global-positioning-section"]
        },
        "top-page": {
            "type": "page",
            "title": "Top row",
            "sections": ["top-format-section", "top-appearance-section"]
        },
        "middle-page": {
            "type": "page",
            "title": "Middle row",
            "sections": ["middle-format-section", "middle-appearance-section"]
        },
        "bottom-page": {
            "type": "page",
            "title": "Bottom row",
            "sections": [
                "bottom-requirements-section",
                "bottom-emoji-section",
                "bottom-label-section"
            ]
        },
        "data-page": {
            "type": "page",
            "title": "Data",
            "sections": [
                "data-weatherapi-section",
                "data-countdown-section"
            ]
        },

        "global-positioning-section": {
            "type": "section",
            "title": "Positioning",
            "keys": ["global-positioning-help", "global-h-offset", "global-v-offset"]
        },
        "global-scale-section": {
            "type": "section",
            "title": "Size",
            "keys": ["global-scale"]
        },
        "global-color-section": {
            "type": "section",
            "title": "Color",
            "keys": [
                "global-color-scheme",
                "global-custom-corner1",
                "global-custom-corner2",
                "global-custom-date",
                "global-custom-time",
                "global-custom-time-shadow",
                "global-custom-bottom",
                "global-color-invert-bottom"
            ]
        },

        "top-format-section": {
            "type": "section",
            "title": "Time format",
            "keys": ["top-format", "top-format-help"]
        },
        "top-appearance-section": {
            "type": "section",
            "title": "Appearance",
            "keys": ["top-font", "top-weekday"]
        },

        "middle-format-section": {
            "type": "section",
            "title": "Time format",
            "keys": ["middle-format", "middle-format-help"]
        },
        "middle-appearance-section": {
            "type": "section",
            "title": "Appearance",
            "keys": ["middle-font", "middle-shadow", "middle-shadow-offset"]
        },

        "bottom-requirements-section": {
            "type": "section",
            "title": "Requirements",
            "keys": ["bottom-requirements-help", "wapi-update-button"]
        },
        "bottom-emoji-section": {
            "type": "section",
            "title": "Emoji settings",
            "keys": ["bottom-emoji-type", "bottom-emoji-size"]
        },
        "bottom-label-section": {
            "type": "section",
            "title": "Caption settings",
            "keys": [
                "bottom-caption-type",
                "bottom-caption-font",
                "bottom-show-secondary-countdowns"
            ]
        },

        "data-weatherapi-section": {
            "type": "section",
            "title": "WeatherAPI settings",
            "keys": [
                "wapi-help",
                "wapi-enable",
                "wapi-key",
                "wapi-query",
                "wapi-update-period-minutes",
                "wapi-update-button"
            ]
        },
        "data-countdown-section": {
            "type": "section",
            "title": "Custom countdown dates",
            "keys": [
                "custom-countdown-list-label",
                "custom-countdown-list-widget"
            ]
        }
    },

    "global-positioning-help": {
        "type": "label",
        "description": "Set these offsets with respect to your desklet grid so that this fits precisely into your top right corner."
    },
    "global-h-offset": {
        "type": "spinbutton",
        "default": 0,
        "min": 0,
        "max": 128,
        "step": 1,
        "description": "Horizontal offset"
    },
    "global-v-offset": {
        "type": "spinbutton",
        "default": 0,
        "min": 0,
        "max": 128,
        "step": 1,
        "description": "Vertical offset"
    },

    "global-scale": {
        "type": "spinbutton",
        "default": 1,
        "min": 0.1,
        "max": 4,
        "step": 0.1,
        "description": "Global scale"
    },

    "global-color-scheme": {
        "type": "combobox",
        "default": "blue",
        "options": {
            "Blue": "blue",
            "Pink": "pink",
            "Green": "green",
            "Yellow": "yellow",
            "Red": "red",
            "Purple": "purple",
            "Dark Blue": "dark-blue",
            "Grey": "grey",
            "Custom": "the-custom"
        },
        "description": "Color scheme"
    },
    "global-custom-corner1": {
        "type": "colorchooser",
        "default": "#67baff",
        "description": "Main color 1",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-custom-corner2": {
        "type": "colorchooser",
        "default": "black",
        "description": "Main color 2",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-custom-time": {
        "type": "colorchooser",
        "default": "white",
        "description": "Middle row text",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-custom-time-shadow": {
        "type": "colorchooser",
        "default": "#447fab",
        "description": "Middle row drop shadow",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-custom-date": {
        "type": "colorchooser",
        "default": "#226182",
        "description": "Top row text",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-custom-bottom": {
        "type": "colorchooser",
        "default": "aliceblue",
        "description": "Bottom row text",
        "dependency": "global-color-scheme=the-custom"
    },
    "global-color-invert-bottom": {
        "type": "switch",
        "default": false,
        "description": "Invert bottom colors",
        "tooltip": "May be useful if the bottom caption doesn't stand out against your background"
    },

    "top-format": {
        "type": "entry",
        "default": "",
        "description": "Format specification"
    },
    "top-format-help": {
        "type": "label",
        "description": "This uses standard strftime, with the addition of the %! specifier to show an approximate phase of the day (e.g. Morning, Afternoon, Evening, ...). Leave empty to show a default date according to your locale and settings."
    },
    "top-font": {
        "type": "fontchooser",
        "default": "Sans Bold 52",
        "description": "Font"
    },
    "top-weekday": {
        "type": "switch",
        "default": true,
        "description": "Show separate weekday (fixed size)"
    },

    "middle-format": {
        "type": "entry",
        "default": "",
        "description": "Format specification"
    },
    "middle-format-help": {
        "type": "label",
        "description": "This uses standard strftime, with the addition of the %! specifier to show an approximate phase of the day (e.g. Morning, Afternoon, Evening, ...). Leave empty to show a default clock according to your locale and settings."
    },
    "middle-font": {
        "type": "fontchooser",
        "default": "Sans 70",
        "description": "Font"
    },
    "middle-shadow": {
        "type": "switch",
        "default": true,
        "description": "Drop shadow"
    },
    "middle-shadow-offset": {
        "type": "spinbutton",
        "default": 8,
        "min": 1,
        "max": 30,
        "step": 1,
        "description": "Drop shadow offset",
        "dependency": "middle-shadow"
    },

    "bottom-requirements-help": {
        "type": "label",
        "description": "(W) indicates that a valid WeatherAPI key is required. Go to the \"Data\" page to enable it.\n(C) indicates that generating a local lunar calendar is required. See [TODO] for instructions.\n(C/W) indicates that either data source is fine. If both are available, preference will be given to the local data.\n(D) indicates that you must provide one or more important dates to count down to in the \"Data\" page."
    },

    "wapi-help": {
        "type": "label",
        "description": "To access weather and moon phase data from WeatherAPI, an API key is required. Sign up on weatherapi.com to get one. Be mindful of your request budget when setting the update frequency or manually requesting updates."
    },
    "wapi-enable": {
        "type": "switch",
        "default": true,
        "description": "Enable WeatherAPI for weather and/or moon phase display"
    },
    "wapi-key": {
        "type": "entry",
        "default": "",
        "description": "WeatherAPI key",
        "tooltip": "Your API key for WeatherAPI. Leave empty to disable weather and moon phase display.",
        "dependency": "wapi-enable"
    },
    "wapi-query": {
        "type": "entry",
        "default": "auto:ip",
        "description": "Weather location",
        "tooltip": "Enter your location name (e.g. \"Tokyo\"), your coordinates (e.g. \"123.45,98.765\"), or \"auto:ip\" for automatic lookup based on your IP address.",
        "dependency": "wapi-enable"
    },
    "wapi-update-period-minutes": {
        "type": "combobox",
        "default": 60,
        "options": {
            "60 minutes": 60
        },
        "description": "Update frequency",
        "dependency": "wapi-enable"
    },
    "wapi-update-button" : {
        "type" : "button",
        "description" : "Refresh WeatherAPI",
        "dependency" : "wapi-enable",
        "callback" : "fullUpdateRightNow"
    },

    "bottom-emoji-type": {
        "type": "combobox",
        "default": "weather",
        "options": {
            "None": "",
            "Weather (W)": "weather",
            "Moon phase (C/W)": "moon"
        },
        "description": "Emoji display"
    },
    "bottom-emoji-size": {
        "type": "spinbutton",
        "default": 70,
        "min": 10,
        "max": 90,
        "step": 10,
        "description": "Size",
        "dependency": "bottom-emoji-type!="
    },

    "bottom-caption-type": {
        "type": "combobox",
        "default": "cntdn-cstm",
        "options": {
            "None": "",
            "Weather (W)": "weather",
            "Chance of rain (W)": "rain",
            "Temperature °C (W)": "temp-c",
            "Temperature °F (W)": "temp-f",
            "Moon phase (C/W)": "moon",
            "Full moon countdown (C)": "cntdn-full",
            "Custom countdown (D)": "cntdn-cstm"
        },
        "description": "Caption display"
    },
    "bottom-caption-font": {
        "type": "fontchooser",
        "default": "Sans Bold 50",
        "description": "Font",
        "dependency": "bottom-caption-type!="
    },
    "bottom-show-secondary-countdowns": {
        "type": "switch",
        "default": true,
        "description": "Show more countdowns in secondary text (D)",
        "dependency": "bottom-caption-type!="
    },


    "custom-countdown-list-label": {
        "type": "label",
        "description": "Enter one or more dates to count down to when selecting \"Custom countdown\" (1 date) and/or \"Show more countdowns in secondary text\" (up to 2 additional dates).\nThe order of the list represents the priority order for the dates.\nDisable dates to skip them.\nDates set in the past are also skipped unless they are \"persistent\"."
    },
    "custom-countdown-list-widget": {
        "type": "custom",
        "file": "settingsWidgets.py",
        "widget": "ListOfDates",
        "storage": "custom-countdown-list",
        "height": 150
    },
    "custom-countdown-list": {
        "type": "generic",
        "default": [],
        "comment": "Data storage for 'custom-countdown-list-widget'"
    }
}
